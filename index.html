<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZETA ë¡œì–´ë¶ ìƒì„±ê¸°</title>
    <style>
        :root { --primary: #bb86fc; --bg: #121212; --card: #1e1e1e; --text: #e0e0e0; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg); color: var(--text); padding: 20px; margin: 0; display: flex; flex-direction: column; align-items: center; }
        .container { max-width: 500px; width: 100%; background: var(--card); padding: 20px; border-radius: 15px; box-shadow: 0 8px 32px rgba(0,0,0,0.5); }
        
        h1 { font-size: 20px; text-align: center; color: var(--primary); margin-bottom: 20px; }
        h2 { font-size: 15px; margin-top: 15px; color: #94a3b8; border-bottom: 1px solid #333; padding-bottom: 5px; }
        
        select, input { width: 100%; padding: 12px; background: #252525; border: 1px solid #333; border-radius: 8px; color: #fff; margin-bottom: 10px; box-sizing: border-box; }
        
        .tag-container { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px 0; }
        .tag { background: #2d2d2d; padding: 6px 12px; border-radius: 20px; font-size: 13px; display: flex; align-items: center; cursor: pointer; border: 1px solid #444; }
        .tag input { width: auto; margin-right: 6px; margin-bottom: 0; }
        .tag:hover { border-color: var(--primary); }

        .gen-btn { width: 100%; padding: 15px; background: var(--primary); color: #000; border: none; border-radius: 10px; font-weight: bold; font-size: 16px; cursor: pointer; margin-top: 20px; }
        
        .result-item { background: #252525; border-radius: 10px; padding: 15px; margin-top: 20px; border-left: 4px solid var(--primary); }
        .result-label { font-size: 12px; color: var(--primary); font-weight: bold; margin-bottom: 5px; }
        .result-text { font-size: 14px; white-space: pre-wrap; margin-bottom: 10px; color: #fff; }
        .copy-btn { width: 100%; background: #444; color: #fff; border: none; padding: 8px; border-radius: 5px; cursor: pointer; font-size: 12px; }
    </style>
</head>
<body>

<div class="container">
    <h1>âœ¨ ZETA ë¡œì–´ë¶ ìƒì„±ê¸°</h1>

    <h2>ğŸ“‚ ì¥ë¥´ ì„¤ì •</h2>
    <select id="genre">
        <option value="modern">í˜„ëŒ€ë¬¼ / ë¡œë§¨ìŠ¤</option>
        <option value="fantasy">íŒíƒ€ì§€ / ì´ì„¸ê³„</option>
        <option value="dark">ë‹¤í¬ / í”¼íë¬¼</option>
    </select>

    <h2>ğŸ” í‚¤ì›Œë“œ ê²€ìƒ‰</h2>
    <input type="text" id="search" placeholder="ì„±ê²© ê²€ìƒ‰ (ì˜ˆ: ëƒ‰ì •, ì§‘ì°©...)">

    <h2>âœ” í¬í•¨í•  í‚¤ì›Œë“œ (ì´ë¯¸ì§€ ì°¸ê³  ë°ì´í„°)</h2>
    <div id="include" class="tag-container"></div>

    <button class="gen-btn" onclick="generateLore()">ë¡œì–´ë¶ í•­ëª© ìƒì„±</button>

    <div id="result"></div>
</div>

<script>
const data = {
    personality: ["ëƒ‰ì •í•œ","ë‹¤ì •í•œ","ì†Œì‹¬í•œ","í™œë°œí•œ","ì¶©ë™ì ì¸","ì‹ ì¤‘í•œ","ì§‘ì°©í•˜ëŠ”","íšŒí”¼í•˜ëŠ”"],
    emotion: ["ê°ì •ì–µì œ","ê°ì •í­ë°œ","ê°ì •ê¸°ë³µ","ë‘”ê°í•¨","ê³¼ì‰ê³µê°","ëƒ‰ì†Œì "],
    secret: ["ë‹¹ì‹ ì„ ì§ì‚¬ë‘ ì¤‘","ê³¼ê±°ì˜ íŠ¸ë¼ìš°ë§ˆ","ì •ì²´ë¥¼ ìˆ¨ê¸´ ìŠ¤íŒŒì´","ê¸ˆì§€ëœ ë§ˆë²• ì‚¬ìš©ì"]
};

const selectedSet = new Set();

function renderTags(filter="") {
    const box = document.getElementById("include");
    box.innerHTML = "";
    Object.values(data).flat()
        .filter(x => x.includes(filter))
        .forEach(item => {
            const label = document.createElement("label");
            label.className = "tag";
            const cb = document.createElement("input");
            cb.type = "checkbox";
            cb.onchange = () => cb.checked ? selectedSet.add(item) : selectedSet.delete(item);
            label.append(cb, item);
            box.appendChild(label);
        });
}
renderTags();

document.getElementById("search").oninput = e => renderTags(e.target.value);

function pick(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

function generateLore() {
    const genre = document.getElementById("genre").value;
    const tags = Array.from(selectedSet).length > 0 ? Array.from(selectedSet) : ["ëƒ‰ì •í•œ", "ë¹„ë°€ìŠ¤ëŸ¬ìš´"];
    
    // ë¡œì–´ë¶ìš© ë°ì´í„° ìƒì„±
    const title = `${tags[0]} ì¸ë¬¼ì˜ ê³¼ê±°ì™€ ë³¸ì„±`;
    const keywords = tags.join(", ");
    let content = "";

    if(genre === "dark") {
        content = `ì´ ì¸ë¬¼ì€ ê¸°ë³¸ì ìœ¼ë¡œ ${tags[0]} íƒœë„ë¥¼ ìœ ì§€í•˜ë©°, ë‚´ë©´ì— ${tags[1] || 'ê¹Šì€ ì–´ë‘ '}ì„ í’ˆê³  ìˆë‹¤. ëŒ€ìƒì´ í‚¤ì›Œë“œì™€ ê´€ë ¨ëœ í–‰ë™ì„ í•  ê²½ìš° ê·¹ë„ë¡œ ì˜ˆë¯¼í•´ì§€ê±°ë‚˜ ê³µê²©ì ì¸ ì„±í–¥ì„ ë“œëŸ¬ë‚¸ë‹¤.`;
    } else if(genre === "fantasy") {
        content = `ì´ ì„¸ê³„ê´€ì—ì„œ ${tags[0]} ì„±ê²©ì€ í”ì¹˜ ì•Šìœ¼ë‚˜, ê·¸ëŠ” ${tags[1] || 'íŠ¹ë³„í•œ ëŠ¥ë ¥'}ì„ ëŒ€ê°€ë¡œ ê°ì •ì„ ìƒì—ˆë‹¤. ë‹¹ì‹ ê³¼ ë§ˆì£¼ì¹  ë•Œë§Œ ì˜ˆì™¸ì ìœ¼ë¡œ ê°ì •ì´ ë™ìš”í•˜ëŠ” ëª¨ìŠµì„ ë³´ì¸ë‹¤.`;
    } else {
        content = `${tags[0]} ì„±ê²©ì˜ ì†Œìœ ìë¡œ, í‰ì†Œ ${tags[1] || 'í‰ë²”í•œ'} ì¼ìƒì„ ë³´ë‚´ì§€ë§Œ ê²°ì •ì ì¸ ìˆœê°„ì— ë³¸ëª¨ìŠµì´ ë“œëŸ¬ë‚œë‹¤. ë‹¹ì‹ ê³¼ì˜ ê´€ê³„ì—ì„œ ì´ íŠ¹ì§•ì´ ë‘ë“œëŸ¬ì§€ê²Œ ë‚˜íƒ€ë‚œë‹¤.`;
    }

    const resultArea = document.getElementById("result");
    resultArea.innerHTML = `
        <div class="result-item">
            <div class="result-label">ë¡œì–´ë¶ ì œëª© (20ì ì´ë‚´)</div>
            <div class="result-text" id="resTitle">${title}</div>
            <div class="result-label">í‚¤ì›Œë“œ (ì‰¼í‘œ êµ¬ë¶„)</div>
            <div class="result-text" id="resKey">${keywords}</div>
            <div class="result-label">ë‚´ìš© (500ì ì´ë‚´)</div>
            <div class="result-text" id="resContent">${content}</div>
            <button class="copy-btn" onclick="copyAll()">ì „ì²´ ì–‘ì‹ ë³µì‚¬</button>
        </div>
    `;
}

function copyAll() {
    const t = document.getElementById("resTitle").innerText;
    const k = document.getElementById("resKey").innerText;
    const c = document.getElementById("resContent").innerText;
    const fullText = `[ë¡œì–´ë¶ ì œëª©]\n${t}\n\n[í‚¤ì›Œë“œ]\n${k}\n\n[ë‚´ìš©]\n${c}`;
    navigator.clipboard.writeText(fullText);
    alert("ì œíƒ€ ë¡œì–´ë¶ ì–‘ì‹ìœ¼ë¡œ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!");
}
</script>
</body>
</html>
